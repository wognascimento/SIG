<UserControl
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:local="clr-namespace:Producao.Views.kit.solucao"
    xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation" xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    x:Class="Producao.Views.kit.solucao.ViewKitSolucao"
    mc:Ignorable="d" 
    d:DesignHeight="450" d:DesignWidth="800" Loaded="UserControl_Loaded">

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <StackPanel Grid.RowSpan="1" Margin="5">

            <StackPanel Orientation="Horizontal" Height="auto">

                
                <syncfusion:SfTextInputLayout 
                    InputViewPadding="4"
                    HintFloatMode="Float" 
                    Hint="Shopping" 
                    Width="260" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" >

                    <syncfusion:SfTextBoxExt 
                        x:Name="cbSiglaShopping"
                        SearchItemPath="sigla_serv"
                        ValueMemberPath="id_aprovado"
                        ShowDropDownButton="false"
                        AutoCompleteMode="SuggestAppend"
                        AutoCompleteSource="{Binding Siglas}" 
                        SelectedItem="{Binding Sigla, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        SelectedValue="{Binding ComplementoCheckList.id_aprovado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        SelectedItemChanged="OnSiglaSelectionChanged" 
                        ShowSuggestionsOnFocus="True" 
                        ShowClearButton="True"/>

                </syncfusion:SfTextInputLayout>
                
            </StackPanel>
            
        </StackPanel>


        <syncfusion:SfDataGrid
            Grid.Row="1"
            AddNewRowPosition="Bottom"
            ShowRowHeader="True"
            AutoGenerateColumns="False"
            ColumnSizer="SizeToHeader"
            ItemsSource="{Binding CheckListGeralComplementos}"
            SelectedItem="{Binding CheckListGeralComplemento, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
            AllowResizingColumns="True" 
            AllowResizingHiddenColumns="True" >
                <syncfusion:SfDataGrid.Columns>
                    
                    <syncfusion:GridTextColumn
                        HeaderText="DATA EMISSAO" 
                        MappingName="codcompladicional"
                        ColumnSizer="Auto"/>
                    
                    <syncfusion:GridTextColumn
                        HeaderText="SOLICITANTE" 
                        MappingName="unidade"/>
                    
                    <syncfusion:GridTimeSpanColumn
                        HeaderText="HORA SOLICITACAO" 
                        MappingName="saldoestoque"/>
                    
                    <syncfusion:GridDateTimeColumn
                        HeaderText="CONCLUIR ATE" 
                        MappingName="qtd"/>
                    
                    <syncfusion:GridTextColumn
                        HeaderText="ATENDENTE" 
                        MappingName="confirmado"/>
                    
                    <syncfusion:GridDateTimeColumn
                        HeaderText="DATA SOLICITACAO"
                        MappingName="coddetalhescompl"/>
                    
                    <syncfusion:GridTextColumn
                        HeaderText="NOITE DE MONTAGEM" 
                        MappingName="qtd_expedida"/>
                    
                    <syncfusion:GridTextColumn
                        HeaderText="OBSERVAÇÃO" 
                        MappingName="qtd_expedida"/>
                    
                    <syncfusion:GridTemplateColumn 
                    HeaderText="REQUISIÇÃO"
                    MappingName="num_os_produto">
                        <syncfusion:GridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button 
                                Content="DETALHES" 
                                syncfusion:FocusManagerHelper.FocusedElement="True"
                                Command="{Binding Path=DataContext.RowDataCommand,ElementName=dgComplemento}" 
                                CommandParameter="{Binding ElementName=chklist}"/>
                            </DataTemplate>
                        </syncfusion:GridTemplateColumn.CellTemplate>
                    </syncfusion:GridTemplateColumn>

                </syncfusion:SfDataGrid.Columns>                        
            
        </syncfusion:SfDataGrid>


    </Grid>

</UserControl>
