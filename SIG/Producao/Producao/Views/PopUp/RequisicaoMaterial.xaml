<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:Producao.Views.PopUp"
    xmlns:vewModel="clr-namespace:Producao"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf" 
    x:Class="Producao.Views.PopUp.RequisicaoMaterial"
    mc:Ignorable="d"
    Title="Requisição de Material" 
    Height="auto" Width="auto"
    WindowStartupLocation="CenterScreen" 
    WindowStyle="ToolWindow"
    ResizeMode="NoResize" Loaded="Window_Loaded">

    <Window.Resources>
        <vewModel:ConverterNumber x:Key="ConverterNumber"/>
        <vewModel:ConverterBoolen x:Key="ConverterBoolen"/>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
       
        <StackPanel Grid.Row="0" Orientation="Vertical">

            <StackPanel Orientation="Horizontal">

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="REQUISIÇÃO NÚMERO" 
                    Width="150" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed">
                    <syncfusion:SfTextBoxExt 
                        x:Name="tbNumRequisicao"
                        Text="{Binding Requisicao.num_requisicao}" IsEnabled="False" TextAlignment="Center" />
                </syncfusion:SfTextInputLayout>

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="BUSCAR PRODUTO POR CÓDIGO" 
                    Width="250" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed">
                    <syncfusion:SfTextBoxExt 
                        x:Name="tbCodproduto"
                        TextAlignment="Center" 
                        PreviewKeyDown="tbCodproduto_PreviewKeyDown" />
                </syncfusion:SfTextInputLayout>

            </StackPanel>

            <StackPanel Orientation="Horizontal">

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="PLANILHA" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" Width="200">

                    <syncfusion:ComboBoxAdv 
                        x:Name="tbPlanilha"
                        IsEditable="true"
                        AutoCompleteMode="Suggest"
                        ItemsSource="{Binding Planilhas}"
                        SelectedItem="{Binding Planilha}"
                        DisplayMemberPath="planilha"
                        SelectionChanged="OnPlanilhaSelectedItemChanged" 
                        DropDownOpened="OnDropDownOpened"/>
                    
                </syncfusion:SfTextInputLayout>

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="DESCRIÇÃO" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" Width="400">
                    <syncfusion:ComboBoxAdv 
                        x:Name="tbDescricao"
                        IsEditable="true"
                        AutoCompleteMode="Suggest"
                        ItemsSource="{Binding Produtos}"
                        SelectedItem="{Binding Produto}"
                        DisplayMemberPath="descricao"
                        SelectionChanged="OnDescricaoSelectedItemChanged" 
                        DropDownOpened="OnDropDownOpened"/>
                </syncfusion:SfTextInputLayout>

            </StackPanel>

            <StackPanel Orientation="Horizontal">

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="DESCRIÇÃO ADICIONAL" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" Width="350">

                    <syncfusion:ComboBoxAdv 
                        x:Name="tbDescricaoAdicional"
                        IsEditable="true"
                        AutoCompleteMode="Suggest"
                        ItemsSource="{Binding DescAdicionais}"
                        SelectedItem="{Binding DescAdicional}"
                        DisplayMemberPath="descricao_adicional"
                        SelectionChanged="OnDescricaoAdicionalSelectedItemChanged" 
                        DropDownClosed="OnDropDownOpened"/>

                </syncfusion:SfTextInputLayout>

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="COMPLEMENTO ADICIONAL" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" Width="350">
                    <syncfusion:ComboBoxAdv 
                        x:Name="tbComplementoAdicional"
                        IsEditable="true"
                        AutoCompleteMode="Suggest"
                        ItemsSource="{Binding CompleAdicionais}"
                        SelectedItem="{Binding Compledicional}"
                        DisplayMemberPath="complementoadicional"
                        SelectionChanged="OnComplementoAdicionalSelectedItemChanged" 
                        DropDownOpened="OnDropDownOpened"/>
                </syncfusion:SfTextInputLayout>

            </StackPanel>

            <StackPanel Orientation="Horizontal">

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="QUANTIDADE" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" Width="100">

                    <syncfusion:DoubleTextBox 
                        x:Name="tbQuantidade" 
                        UseNullOption="True"
                        NullValue="{x:Null}"
                        MinimumNumberDecimalDigits="0" TextAlignment="Center"/>
                </syncfusion:SfTextInputLayout>
<!--
                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="VOLTAGEM" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" 
                    Width="100">
                    <syncfusion:ComboBoxAdv 
                        x:Name="cbVoltagem"
                        SelectedItem="{Binding QryRequisicaoDetalhe.voltagem}"/>
                </syncfusion:SfTextInputLayout>

                <syncfusion:SfTextInputLayout 
                    InputViewPadding="5" 
                    Margin="5" 
                    HintFloatMode="Float" 
                    Hint="LOCAL DO SHOPPING" 
                    CharCountVisibility="Collapsed" 
                    HelperTextVisibility="Collapsed" 
                    Width="150">


                    
                    <syncfusion:ComboBoxAdv 
                        x:Name="cbLocalShopping"
                        SelectedItem="{Binding QryRequisicaoDetalhe.local_shop}"/>
                    
                </syncfusion:SfTextInputLayout>
-->
            </StackPanel>

            <StackPanel Orientation="Horizontal">

                <syncfusion:ButtonAdv 
                    Margin="5" 
                    SmallIcon="/icones/icons8-vassoura-40.png" 
                    LargeIcon="/icones/icons8-vassoura-80.png" 
                    SizeMode="Large" 
                    Label="LIMPAR" 
                    Content="_LIMPAR" 
                    Click="OnLimparClick" />

                <syncfusion:ButtonAdv 
                    Margin="5" 
                    SmallIcon="/icones/icons8-adicionar-propriedade-40.png" 
                    LargeIcon="/icones/icons8-adicionar-propriedade-80.png" 
                    SizeMode="Large" Label="ADICIONAR" 
                    Click="OnAdicionarClick"/>

                <syncfusion:ButtonAdv 
                    Margin="5" 
                    SmallIcon="/icones/icons8-editar-propriedade-40.png" 
                    LargeIcon="/icones/icons8-editar-propriedade-80.png" 
                    SizeMode="Large" Label="EDITAR" 
                    Click="OnEditClick"/>
                <syncfusion:ButtonAdv 
                    Margin="5" 
                    SmallIcon="/icones/icons8-impressão-40.png" 
                    LargeIcon="/icones/icons8-impressão-80.png" 
                    SizeMode="Large" 
                    Label="IMPRIMIR" 
                    Click="OnPrintClick"/>
            </StackPanel>
            
        </StackPanel>

        <syncfusion:SfDataGrid 
            x:Name="itens" 
            Grid.Row="1"
            AutoGenerateColumns="False" 
            AllowResizingColumns="True"
            AllowDraggingColumns="True"
            ColumnSizer="AutoWithLastColumnFill"
            ShowRowHeader="True" 
            ItemsSource="{Binding QryRequisicaoDetalhes}"
            MouseDoubleClick="OnMouseDoubleClick">
            <syncfusion:SfDataGrid.Columns>
                <syncfusion:GridNumericColumn 
                    HeaderText="ID" 
                    MappingName="cod_det_req" 
                    ParsingMode="Int" 
                    NumberDecimalDigits="0"/>
                <syncfusion:GridTextColumn HeaderText="PLANILHA" MappingName="planilha"/>
                <syncfusion:GridTextColumn HeaderText="DESCRIÇÃO" MappingName="descricao_completa"/>
                <syncfusion:GridTextColumn HeaderText="UNID" MappingName="unidade"/>
                <syncfusion:GridNumericColumn 
                    HeaderText="QTDE" 
                    MappingName="quantidade"
                    DisplayBinding="{Binding quantidade, Converter={StaticResource ConverterNumber}}"/>
                <syncfusion:GridTextColumn HeaderText="VOLTAGEM" MappingName="voltagem"/>
                <syncfusion:GridTextColumn HeaderText="LOCAL SHOPPING" MappingName="local_shop"/>
                <syncfusion:GridDateTimeColumn HeaderText="INSERIDO EM" MappingName="data"/>
                <syncfusion:GridTextColumn HeaderText="INSERIDO POR" MappingName="alterado_por" ColumnSizer="SizeToHeader"/>
            </syncfusion:SfDataGrid.Columns>

        </syncfusion:SfDataGrid>



    </Grid>

</Window>
